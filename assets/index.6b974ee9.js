import{r as t,aM as e,u as a,ah as n,ae as r,A as o,_ as s,L as i,F as l,a3 as c,x as d,aa as u}from"./vendor.517bedfb.js";import{b8 as m,b9 as p,ba as f,bb as h,aN as b}from"./index.c1a25957.js";import{P as g}from"./index.dedb6f7a.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.e21098c8.js";import"./useWindowSizeFn.45b2e0d5.js";import"./useContentViewHeight.b4f36b25.js";const x=Symbol("watermark-dom");function k(o=t(document.body)){const s=f((function(){const t=a(o);if(!t)return;const{clientHeight:e,clientWidth:n}=t;d({height:e,width:n})})),i=x.toString(),l=e(),c=()=>{const t=a(l);l.value=void 0;const e=a(o);e&&(t&&e.removeChild(t),m(e,s))};function d(t={}){const e=a(l);e&&(h(t.width)&&(e.style.width=`${t.width}px`),h(t.height)&&(e.style.height=`${t.height}px`),h(t.str)&&(e.style.background=`url(${function(t){const e=document.createElement("canvas");Object.assign(e,{width:300,height:240});const a=e.getContext("2d");return a&&(a.rotate(-20*Math.PI/120),a.font="15px Vedana",a.fillStyle="rgba(0, 0, 0, 0.15)",a.textAlign="left",a.textBaseline="middle",a.fillText(t,15,240)),e.toDataURL("image/png")}(t.str)}) left top repeat`))}return{setWatermark:function(t){(t=>{if(a(l))return d({str:t}),i;const e=document.createElement("div");l.value=e,e.id=i,e.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="100000";const n=a(o);if(!n)return i;const{clientHeight:r,clientWidth:s}=n;d({str:t,width:s,height:r}),n.appendChild(e)})(t),p(document.documentElement,s),r()&&n((()=>{c()}))},clear:c}}var C=o({components:{CollapseContainer:b,PageWrapper:g},setup(){const e=t(null),{setWatermark:a,clear:n}=k();return{setWatermark:a,clear:n,areaRef:e}}});const w=u(" Create "),y=u(" Clear "),W=u(" Reset ");C.render=function(t,e,a,n,r,o){const u=s("a-button"),m=s("CollapseContainer"),p=s("PageWrapper");return i(),l(p,{title:"水印示例"},{default:c((()=>[d(m,{class:"w-full h-32 bg-white rounded-md",title:"Global WaterMark"},{default:c((()=>[d(u,{type:"primary",class:"mr-2",onClick:e[1]||(e[1]=e=>t.setWatermark("WaterMark Info"))},{default:c((()=>[w])),_:1}),d(u,{color:"error",class:"mr-2",onClick:t.clear},{default:c((()=>[y])),_:1},8,["onClick"]),d(u,{color:"warning",class:"mr-2",onClick:e[2]||(e[2]=e=>t.setWatermark("WaterMark Info New"))},{default:c((()=>[W])),_:1})])),_:1})])),_:1})};export{C as default};
