import{A as e,bL as s,j as o,B as t,D as n,_ as r,L as a,F as i,x as d,K as c,aa as m}from"./vendor.517bedfb.js";import u from"./CurrentPermissionMode.330647f9.js";import{R as f}from"./roleEnum.fcadfc65.js";import{ak as l,f as p,U as b,aO as k}from"./index.c1a25957.js";import{P as j}from"./index.dedb6f7a.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./onMountedOrActivated.e21098c8.js";import"./useWindowSizeFn.45b2e0d5.js";import"./useContentViewHeight.b4f36b25.js";var h=e({components:{Alert:s,CurrentPermissionMode:u,PageWrapper:j},setup(){const{refreshMenu:e}=l(),s=p(),t=b(),n=o((()=>t.getProjectConfig.permissionMode===k.BACK));return{RoleEnum:f,refreshMenu:e,switchToken:function(o){return t=this,n=null,r=function*(){const t="fakeToken"+o;s.setToken(t),s.getUserInfoAction(),e()},new Promise(((e,s)=>{var o=e=>{try{i(r.next(e))}catch(o){s(o)}},a=e=>{try{i(r.throw(e))}catch(o){s(o)}},i=s=>s.done?e(s.value):Promise.resolve(s.value).then(o,a);i((r=r.apply(t,n)).next())}));var t,n,r},isBackPremissionMode:n}}});const P=c();t("data-v-33280558");const v={class:"mt-4"},x=m(" 权限切换(请先切换权限模式为后台权限模式): "),M=m(" 获取用户id为1的菜单 "),g=m(" 获取用户id为2的菜单 ");n();const C=P(((e,s,o,t,n,c)=>{const m=r("CurrentPermissionMode"),u=r("Alert"),f=r("a-button"),l=r("a-button-group"),p=r("PageWrapper");return a(),i(p,{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:P((()=>[d(m),d(u,{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),d("div",v,[x,d(l,null,{default:P((()=>[d(f,{onClick:s[1]||(s[1]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:P((()=>[M])),_:1},8,["disabled"]),d(f,{onClick:s[2]||(s[2]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:P((()=>[g])),_:1},8,["disabled"])])),_:1})])])),_:1})}));h.render=C,h.__scopeId="data-v-33280558";export{h as default};
