var e,t,r=Object.defineProperty,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(e,t,o)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,i=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&l(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&l(e,r,t[r]);return e},a=(e,t,r)=>new Promise(((o,n)=>{var s=e=>{try{i(r.next(e))}catch(t){n(t)}},l=e=>{try{i(r.throw(e))}catch(t){n(t)}},i=e=>e.done?o(e.value):Promise.resolve(e.value).then(s,l);i((r=r.apply(e,t)).next())}));import{r as c,j as u,u as g,A as f,L as d,F as m,J as y}from"./vendor.f90788d9.js";import{j as p,e as h,c as v}from"./index.27af0dce.js";(t=e||(e={}))[t.LOGIN=0]="LOGIN",t[t.REGISTER=1]="REGISTER",t[t.RESET_PASSWORD=2]="RESET_PASSWORD",t[t.MOBILE=3]="MOBILE",t[t.QR_CODE=4]="QR_CODE";const P=c(0);function S(){function e(e){P.value=e}return{setLoginState:e,getLoginState:u((()=>P.value)),handleBackLogin:function(){e(0)}}}function E(e){return{validForm:function(){return a(this,null,(function*(){const t=g(e);if(!t)return;return yield t.validate()}))}}}function O(e){const{t:t}=h(),r=u((()=>b(t("sys.login.accountPlaceholder")))),o=u((()=>b(t("sys.login.passwordPlaceholder")))),n=u((()=>b(t("sys.login.smsPlaceholder")))),s=u((()=>b(t("sys.login.mobilePlaceholder")))),l=(e,r)=>a(this,null,(function*(){return r?Promise.resolve():Promise.reject(t("sys.login.policyPlaceholder"))})),c=e=>(r,o)=>a(this,null,(function*(){return o?o!==e?Promise.reject(t("sys.login.diffPwd")):Promise.resolve():Promise.reject(t("sys.login.passwordPlaceholder"))}));return{getFormRules:u((()=>{const t=g(r),a=g(o),u={sms:g(n),mobile:g(s)};switch(g(P)){case 1:return i({account:t,password:a,confirmPassword:[{validator:c(null==e?void 0:e.password),trigger:"change"}],policy:[{validator:l,trigger:"change"}]},u);case 2:return i({account:t},u);case 3:return u;default:return{account:t,password:a}}}))}}function b(e){return[{required:!0,message:e,trigger:"change"}]}function x(){const e=c(""),t=c("");let r=!1;const o=()=>a(this,null,(function*(){if(r)return;r=!0;const o=yield p();e.value=o.key,t.value=o.code,r=!1}));return o(),{key:e,code:t,refresh:o}}var R=f({name:"LoginFormTitle",setup(){const{t:t}=h(),{prefixCls:r}=v("login"),{getLoginState:o}=S();return{getFormTitle:u((()=>({[e.RESET_PASSWORD]:t("sys.login.forgetFormTitle"),[e.LOGIN]:t("sys.login.signInFormTitle"),[e.REGISTER]:t("sys.login.signUpFormTitle"),[e.MOBILE]:t("sys.login.mobileSignInFormTitle"),[e.QR_CODE]:t("sys.login.qrSignInFormTitle")}[g(o)]))),prefixCls:r}}});R.render=function(e,t,r,o,n,s){return d(),m("h2",{class:[`${e.prefixCls}-form-title`,"mb-3 text-2xl font-bold text-center text-white xl:text-3xl enter-x xl:text-left"]},y(e.getFormTitle),3)};var T=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R});export{e as L,R as _,O as a,x as b,E as c,T as d,S as u};
