import{A as e,O as t,_ as o,L as n,F as i,a3 as a,x as s,aa as r}from"./vendor.8887d027.js";import{_ as d}from"./TableImg.8709f9ad.js";import{g as l}from"./BasicForm.24833f51.js";import{u as c}from"./useTable.b198c16a.js";import{g as m}from"./system.6ecb946a.js";import{P as p}from"./index.9adf7152.js";import f from"./DeptTree.5914c81d.js";import{b as u}from"./index.694555f1.js";import{_ as b,c as j,s as x}from"./AccountModal.c3e2c964.js";import{k as h}from"./index.139ebaf4.js";/* empty css              *//* empty css              */import"./useForm.341a37c5.js";/* empty css              *//* empty css              *//* empty css              */import"./useWindowSizeFn.fddb5d97.js";import"./onMountedOrActivated.1f4114eb.js";/* empty css              */import"./useSortable.67b4cd15.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index.1ff1fcb7.js";/* empty css              *//* empty css              *//* empty css              */import"./download.53426b47.js";import"./base64Conver.bb012c73.js";import"./index.7e041dc6.js";/* empty css              *//* empty css              */import"./useContentViewHeight.d6114e24.js";import"./Tree.vue_vue&type=style&index=0&lang.d36b0fe9.js";import"./useContextMenu.5603a959.js";var g=e({name:"AccountManagement",components:{BasicTable:d,PageWrapper:p,DeptTree:f,AccountModal:b,TableAction:l},setup(){const e=h(),[o,{openModal:n}]=u(),i=t({}),[a,{reload:s,updateTableDataRecord:r}]=c({title:"账号列表",api:m,rowKey:"id",columns:j,formConfig:{labelWidth:120,schemas:x,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn:e=>e,actionColumn:{width:120,title:"操作",dataIndex:"action",slots:{customRender:"action"}}});return{registerTable:a,registerModal:o,handleCreate:function(){n(!0,{isUpdate:!1})},handleEdit:function(e){n(!0,{record:e,isUpdate:!0})},handleDelete:function(e){},handleSuccess:function({isUpdate:e,values:t}){if(e){r(t.id,t)}else s()},handleSelect:function(e=""){i.deptId=e,s()},handleView:function(t){e("/system/account_detail/"+t.id)},searchInfo:i}}});const S=r("新增账号");g.render=function(e,t,r,d,l,c){const m=o("DeptTree"),p=o("a-button"),f=o("TableAction"),u=o("BasicTable"),b=o("AccountModal"),j=o("PageWrapper");return n(),i(j,{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:a((()=>[s(m,{class:"w-1/4 xl:w-1/5",onSelect:e.handleSelect},null,8,["onSelect"]),s(u,{onRegister:e.registerTable,class:"w-3/4 xl:w-4/5",searchInfo:e.searchInfo},{toolbar:a((()=>[s(p,{type:"primary",onClick:e.handleCreate},{default:a((()=>[S])),_:1},8,["onClick"])])),action:a((({record:t})=>[s(f,{actions:[{icon:"clarity:info-standard-line",tooltip:"查看用户详情",onClick:e.handleView.bind(null,t)},{icon:"clarity:note-edit-line",tooltip:"编辑用户资料",onClick:e.handleEdit.bind(null,t)},{icon:"ant-design:delete-outlined",color:"error",tooltip:"删除此账号",popConfirm:{title:"是否确认删除",confirm:e.handleDelete.bind(null,t)}}]},null,8,["actions"])])),_:1},8,["onRegister","searchInfo"]),s(b,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])),_:1})};export{g as default};
