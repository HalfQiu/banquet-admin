import{A as e,bL as s,bA as o,j as a,B as r,D as t,_ as i,av as n,L as d,F as c,x as l,J as m,a8 as u,a9 as f,G as p,K as _,aa as v}from"./vendor.517bedfb.js";/* empty css              *//* empty css              */import x from"./CurrentPermissionMode.330647f9.js";import{ak as y,I as P,U as h,f as b,aO as k}from"./index.c1a25957.js";import{A as j}from"./index.7894ef9d.js";import{P as C}from"./index.dedb6f7a.js";/* empty css              *//* empty css              */import"./onMountedOrActivated.e21098c8.js";import"./useWindowSizeFn.45b2e0d5.js";import"./useContentViewHeight.b4f36b25.js";var g=e({components:{Alert:s,PageWrapper:C,CurrentPermissionMode:x,Divider:o,Authority:j},setup(){const{hasPermission:e}=y(),s=P(),o=h(),r=b(),t=a((()=>o.getProjectConfig.permissionMode===k.BACK));return{hasPermission:e,permissionStore:s,switchToken:function(e){return o=this,a=null,t=function*(){const o="fakeToken"+e;r.setToken(o),r.getUserInfoAction(),s.changePermissionCode()},new Promise(((e,s)=>{var r=e=>{try{n(t.next(e))}catch(o){s(o)}},i=e=>{try{n(t.throw(e))}catch(o){s(o)}},n=s=>s.done?e(s.value):Promise.resolve(s.value).then(r,i);n((t=t.apply(o,a)).next())}));var o,a,t},isBackPremissionMode:t}}});const A=_();r("data-v-44650142");const M=v(" 当前拥有的code列表: "),w=v(" 点击切换按钮权限(用户id为2) "),B=v(" 点击切换按钮权限(用户id为1,默认) "),T=v("组件方式判断权限"),D=v(" 拥有code ['1000']权限可见 "),I=v(" 拥有code ['2000']权限可见 "),L=v(" 拥有code ['1000','2000']角色权限可见 "),S=v("函数方式方式判断权限"),W=v(" 拥有code ['1000']权限可见 "),F=v(" 拥有code ['2000']权限可见 "),K=v(" 拥有code ['1000','2000']角色权限可见 "),O=v("指令方式方式判断权限(该方式不能动态修改权限.)"),U=v(" 拥有code ['1000']权限可见 "),z=v(" 拥有code ['2000']权限可见 "),G=v(" 拥有code ['1000','2000']角色权限可见 ");t();const H=A(((e,s,o,a,r,t)=>{const _=i("CurrentPermissionMode"),v=i("Divider"),x=i("Alert"),y=i("a-button"),P=i("Authority"),h=i("PageWrapper"),b=n("auth");return d(),c(h,{contentBackground:"",title:"按钮权限控制",contentClass:"p-4"},{default:A((()=>[l(_),l("p",null,[M,l("a",null,m(e.permissionStore.getPermCodeList),1)]),l(v),l(x,{class:"mt-4",type:"info",message:"点击后请查看按钮变化(必须处于后台权限模式才可测试此页面所展示的功能)","show-icon":""}),l(v),l(y,{type:"primary",class:"mr-2",onClick:s[1]||(s[1]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:A((()=>[w])),_:1},8,["disabled"]),l(y,{type:"primary",onClick:s[2]||(s[2]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:A((()=>[B])),_:1},8,["disabled"]),e.isBackPremissionMode?(d(),c(u,{key:0},[l(v,null,{default:A((()=>[T])),_:1}),l(P,{value:"1000"},{default:A((()=>[l(y,{type:"primary",class:"mx-4"},{default:A((()=>[D])),_:1})])),_:1}),l(P,{value:"2000"},{default:A((()=>[l(y,{color:"success",class:"mx-4"},{default:A((()=>[I])),_:1})])),_:1}),l(P,{value:["1000","2000"]},{default:A((()=>[l(y,{color:"error",class:"mx-4"},{default:A((()=>[L])),_:1})])),_:1}),l(v,null,{default:A((()=>[S])),_:1}),e.hasPermission("1000")?(d(),c(y,{key:0,type:"primary",class:"mx-4"},{default:A((()=>[W])),_:1})):f("v-if",!0),e.hasPermission("2000")?(d(),c(y,{key:1,color:"success",class:"mx-4"},{default:A((()=>[F])),_:1})):f("v-if",!0),e.hasPermission(["1000","2000"])?(d(),c(y,{key:2,color:"error",class:"mx-4"},{default:A((()=>[K])),_:1})):f("v-if",!0),l(v,null,{default:A((()=>[O])),_:1}),p(l(y,{type:"primary",class:"mx-4"},{default:A((()=>[U])),_:1},512),[[b,"1000"]]),p(l(y,{color:"success",class:"mx-4"},{default:A((()=>[z])),_:1},512),[[b,"2000"]]),p(l(y,{color:"error",class:"mx-4"},{default:A((()=>[G])),_:1},512),[[b,["1000","2000"]]])],64)):f("v-if",!0)])),_:1})}));g.render=H,g.__scopeId="data-v-44650142";export{g as default};
