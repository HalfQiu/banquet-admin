var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,l=(e,t)=>{for(var o in t||(t={}))r.call(t,o)&&a(e,o,t[o]);if(n)for(var o of n(t))s.call(t,o)&&a(e,o,t[o]);return e};import{c as i,o as c,aa as f,p as u,ab as d}from"./index.27af0dce.js";import{A as g,F as p,x as h,a5 as v,K as m,L as C,r as b,Z as y,u as H,R as F,bd as x,j as $,o as j,_ as w,a1 as P,aB as O,ap as S,a3 as R,a9 as _,a8 as k,aa as B,J as E}from"./vendor.f90788d9.js";/* empty css              *//* empty css              */import{o as L}from"./onMountedOrActivated.a9c9ce1d.js";import{u as W}from"./useWindowSizeFn.206cf3e2.js";import{a as A}from"./useContentViewHeight.f4cabba7.js";var I=g({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=i("page-footer"),{getCalcContentWidth:t}=c();return{prefixCls:e,getCalcContentWidth:t}}});const D=m("data-v-3661f935")(((e,t,o,n,r,s)=>(C(),p("div",{class:e.prefixCls,style:{width:e.getCalcContentWidth}},[h("div",{class:`${e.prefixCls}__left`},[v(e.$slots,"left",{},void 0,!0)],2),v(e.$slots,"default",{},void 0,!0),h("div",{class:`${e.prefixCls}__right`},[v(e.$slots,"right",{},void 0,!0)],2)],6))));I.render=D,I.__scopeId="data-v-3661f935";function M(e,t,o,n,r=b(0)){const s=b(null),{footerHeightRef:a}=A();let l={useLayoutFooter:!0};function i(e){return null==e?null:e instanceof HTMLDivElement?e:e.$el}function c(){return c=this,u=null,d=function*(){if(!e.value)return;yield y();const c=i(H(t));if(!c)return;const{bottomIncludeBody:u}=f(c);let d=0;o.forEach((e=>{var t,o;d+=null!=(o=null==(t=i(H(e)))?void 0:t.offsetHeight)?o:0}));let g=0;n.forEach((e=>{g+=function(e){var t,o;let n=0;const r="0px";let s=r,a=r;if(e){const n=getComputedStyle(e);s=null!=(t=null==n?void 0:n.marginBottom)?t:r,a=null!=(o=null==n?void 0:n.marginTop)?o:r}return s&&(n+=Number(s.replace(/[^\d]/g,""))),a&&(n+=Number(a.replace(/[^\d]/g,""))),n}(i(H(e)))}));let p=u-H(a)-H(r)-d-g;const h=()=>{var e;null==(e=l.elements)||e.forEach((e=>{var t,o;p+=null!=(o=null==(t=i(H(e)))?void 0:t.offsetHeight)?o:0}))};l.useLayoutFooter&&H(a),h(),s.value=p},new Promise(((e,t)=>{var o=e=>{try{r(d.next(e))}catch(o){t(o)}},n=e=>{try{r(d.throw(e))}catch(o){t(o)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,n);r((d=d.apply(c,u)).next())}));var c,u,d}return L((()=>{y((()=>{c()}))})),W((()=>{c()}),50,{immediate:!0}),F((()=>[a.value]),(()=>{c()}),{flush:"post",immediate:!0}),{redoHeight:function(){y((()=>{c()}))},setCompensation:e=>{l=e},contentHeight:s}}var N=g({name:"PageWrapper",components:{PageFooter:I,PageHeader:x},inheritAttrs:!1,props:{title:u.string,dense:u.bool,ghost:u.bool,content:u.string,contentStyle:{type:Object},contentBackground:u.bool,contentFullHeight:u.bool,contentClass:u.string,fixedHeight:u.bool},setup(e,{slots:n,attrs:r}){const s=b(null),a=b(null),c=b(null),f=b(null),{prefixCls:u}=i("page-wrapper"),d=$((()=>e.contentFullHeight)),{redoHeight:g,setCompensation:p,contentHeight:h}=M(d,s,[a,f],[c]);p({useLayoutFooter:!0,elements:[f]});const v=$((()=>{var t;return[u,{[`${u}--dense`]:e.dense},null!=(t=r.class)?t:{}]})),m=$((()=>(null==n?void 0:n.leftFooter)||(null==n?void 0:n.rightFooter))),C=$((()=>Object.keys(j(n,"default","leftFooter","rightFooter","headerContent")))),y=$((()=>{const{contentFullHeight:n,contentStyle:r,fixedHeight:s}=e;if(!n)return l({},r);const a=`${H(h)}px`;return l((i=l({},r),t(i,o({minHeight:a}))),s?{height:a}:{});var i})),x=$((()=>{const{contentBackground:t,contentClass:o}=e;return[`${u}-content`,o,{[`${u}-content-bg`]:t}]}));return F((()=>[m.value]),(()=>{g()}),{flush:"post",immediate:!0}),{getContentStyle:y,wrapperRef:s,headerRef:a,contentRef:c,footerRef:f,getClass:v,getHeaderSlots:C,prefixCls:u,getShowFooter:m,omit:j,getContentClass:x}}});N.render=function(e,t,o,n,r,s){const a=w("PageHeader"),l=w("PageFooter");return C(),p("div",{class:e.getClass,ref:"wrapperRef"},[e.content||e.$slots.headerContent||e.title||e.getHeaderSlots.length?(C(),p(a,P({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),O({default:R((()=>[e.content?(C(),p(k,{key:0},[B(E(e.content),1)],2112)):v(e.$slots,"headerContent",{key:1})])),_:2},[S(e.getHeaderSlots,(t=>({name:t,fn:R((o=>[v(e.$slots,t,o)]))})))]),1040,["ghost","title"])):_("v-if",!0),h("div",{class:["overflow-hidden",e.getContentClass],style:e.getContentStyle,ref:"contentRef"},[v(e.$slots,"default")],6),e.getShowFooter?(C(),p(l,{key:1,ref:"footerRef"},{left:R((()=>[v(e.$slots,"leftFooter")])),right:R((()=>[v(e.$slots,"rightFooter")])),_:3},512)):_("v-if",!0)],2)},d(I);const T=d(N);export{T as P};
