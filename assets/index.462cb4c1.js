import{A as e,bx as s,j as t,B as o,D as n,_ as a,F as i,x as r,K as d,aa as c,L as m}from"./vendor.f90788d9.js";import u from"./CurrentPermissionMode.024a60af.js";import{an as f,f as l,U as p,bb as b,bc as k}from"./index.27af0dce.js";import{P as j}from"./index.2d7cf9f2.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./onMountedOrActivated.a9c9ce1d.js";import"./useWindowSizeFn.206cf3e2.js";import"./useContentViewHeight.f4cabba7.js";var h=e({components:{Alert:s,CurrentPermissionMode:u,PageWrapper:j},setup(){const{refreshMenu:e}=f(),s=l(),o=p(),n=t((()=>o.getProjectConfig.permissionMode===k.BACK));return{RoleEnum:b,refreshMenu:e,switchToken:function(t){return o=this,n=null,a=function*(){const o="fakeToken"+t;s.setToken(o),s.getUserInfoAction(),e()},new Promise(((e,s)=>{var t=e=>{try{r(a.next(e))}catch(t){s(t)}},i=e=>{try{r(a.throw(e))}catch(t){s(t)}},r=s=>s.done?e(s.value):Promise.resolve(s.value).then(t,i);r((a=a.apply(o,n)).next())}));var o,n,a},isBackPremissionMode:n}}});const v=d("data-v-33280558");o("data-v-33280558");const P={class:"mt-4"},x=c(" 权限切换(请先切换权限模式为后台权限模式): "),M=c(" 获取用户id为1的菜单 "),g=c(" 获取用户id为2的菜单 ");n();const C=v(((e,s,t,o,n,d)=>{const c=a("CurrentPermissionMode"),u=a("Alert"),f=a("a-button"),l=a("a-button-group"),p=a("PageWrapper");return m(),i(p,{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:v((()=>[r(c),r(u,{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),r("div",P,[x,r(l,null,{default:v((()=>[r(f,{onClick:s[1]||(s[1]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:v((()=>[M])),_:1},8,["disabled"]),r(f,{onClick:s[2]||(s[2]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:v((()=>[g])),_:1},8,["disabled"])])),_:1})])])),_:1})}));h.render=C,h.__scopeId="data-v-33280558";export{h as default};
