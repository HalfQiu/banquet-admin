import{A as e,j as s,_ as r,L as a,F as o,a3 as t,x as i,J as n,aa as d,a1 as l}from"./vendor.f90788d9.js";import{c,f as m,e as p}from"./index.27af0dce.js";import{B as f,a as u}from"./index.99f4ae53.js";import{_ as x}from"./BasicForm.12c2408d.js";import{u as j}from"./useForm.182501aa.js";import{u as h}from"./lock.4c783c6b.js";import{h as v}from"./header.d801b988.js";import"./useWindowSizeFn.206cf3e2.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index.1b0403ed.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./download.ca2729e5.js";import"./base64Conver.bb012c73.js";import"./index.1d6c4e00.js";var b=e({name:"LockModal",components:{BasicModal:f,BasicForm:x},setup(){const{t:e}=p(),{prefixCls:r}=c("header-lock-modal"),a=m(),o=h(),t=s((()=>{var e;return null==(e=a.getUserInfo)?void 0:e.realName})),[i,{closeModal:n}]=u(),[d,{validateFields:l,resetFields:f}]=j({showActionButtonGroup:!1,schemas:[{field:"password",label:e("layout.header.lockScreenPassword"),component:"InputPassword",required:!0}]});return{t:e,prefixCls:r,getRealName:t,register:i,registerForm:d,handleLock:function(){return e=this,s=null,r=function*(){const e=(yield l()).password;n(),o.setLockInfo({isLock:!0,pwd:e}),yield f()},new Promise(((a,o)=>{var t=e=>{try{n(r.next(e))}catch(s){o(s)}},i=e=>{try{n(r.throw(e))}catch(s){o(s)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(t,i);n((r=r.apply(e,s)).next())}));var e,s,r},avatar:s((()=>{const{avatar:e}=a.getUserInfo;return e||v}))}}});b.render=function(e,s,c,m,p,f){const u=r("BasicForm"),x=r("a-button"),j=r("BasicModal");return a(),o(j,l({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:t((()=>[i("div",{class:`${e.prefixCls}__entry`},[i("div",{class:`${e.prefixCls}__header`},[i("img",{src:e.avatar,class:`${e.prefixCls}__header-img`},null,10,["src"]),i("p",{class:`${e.prefixCls}__header-name`},n(e.getRealName),3)],2),i(u,{onRegister:e.registerForm},null,8,["onRegister"]),i("div",{class:`${e.prefixCls}__footer`},[i(x,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:t((()=>[d(n(e.t("layout.header.lockScreenBtn")),1)])),_:1},8,["onClick"])],2)],2)])),_:1},16,["title","class","onRegister"])};export{b as default};
